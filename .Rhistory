#merge satellite data Molopo
library(raster)
main <- "E:/HK_Geoinfo/"
data <- paste0(main, "data/")
#dry season
nod <- paste0(data,"173078/LC08_L1TP_173078_20130627_20170504_01_T1/")
nwd <- paste0(data,"174078/LC08_L1TP_173078_20130627_20170504_01_T1/")
sod <- paste0(data,"173079/LC08_L1TP_173079_20130627_20170504_01_T1/")
fnod <- vector()
fnwd <- vector()
fsod <- vector()
bands <- c(2, 3, 4, 5, 6, 7, 10, 11)
tiles <- c(nod, nwd, sod)
lvec <- c(fnod, fnwd, fsod)
lvec <- c("fnod", "fnwd", "fsod")
paste0("dir",tiles[j])
bands <- c(2, 3, 4, 5, 6, 7, 10, 11)
tiles <- c(nod, nwd, sod)
lvec <- c("fnod", "fnwd", "fsod")
i=1
j=1
paste0("dir",tiles[j])
names(tiles[1])
tnames <- c("nod", "nwd", "sod")
paste0("dir",tnames[j])
paste0("s",dir[j])
paste0("sdir",tnames[j])
paste0("s",tnames[j])
stack(paste0("dir",tnames[j])
paste0("dir",tnames[j])
lvec[j][i]
lvec[j]
lvec[j][i]
lapply(seq(tiles), function (j){
for (i in seq(bands)){
lvec[j][i] <- list.files(tiles[j], pattern =
paste0("\\B",toString(bands[i]),".TIF$"))}
paste0("dir",tnames[j]) <- paste0(tiles[j],lvec[j])
paste0("s",tnames[j]) <- stack(paste0("dir",tnames[j]))
})
paste0("s",tnames[j])
paste0("dir",tnames[j])
paste0("dir",tnames[j])
for (i in seq(bands)){
lvec[j][i] <- list.files(tiles[j], pattern =
paste0("\\B",toString(bands[i]),".TIF$"))}
tiles[j]
list.files(tiles[j], pattern =
paste0("\\B",toString(bands[i]),".TIF$"))
i=1
for (i in seq(bands)){
lvec[j][i] <- list.files(tiles[j], pattern =
paste0("\\B",toString(bands[i]),".TIF$"))}
i=1
list.files(tiles[j], pattern =
paste0("\\B",toString(bands[i]),".TIF$"))
lvec[j][i]
lvec
tnames[j][i]
for (i in seq(bands)){
tnames[j][i] <- list.files(tiles[j], pattern =
paste0("\\B",toString(bands[i]),".TIF$"))}
#merge satellite data Molopo
library(raster)
main <- "E:/HK_Geoinfo/"
data <- paste0(main, "data/")
#dry season
nod <- paste0(data,"173078/LC08_L1TP_173078_20130627_20170504_01_T1/")
nwd <- paste0(data,"174078/LC08_L1TP_173078_20130627_20170504_01_T1/")
sod <- paste0(data,"173079/LC08_L1TP_173079_20130627_20170504_01_T1/")
bands <- c(2, 3, 4, 5, 6, 7, 10, 11)
tiles <- c(nod, nwd, sod)
tnames <- c("nod", "nwd", "sod")
lvec <- c("fnod", "fnwd", "fsod")
lapply(seq(tiles), function (j){
for (i in seq(bands)){
tnames[j][i] <- list.files(tiles[j], pattern =
paste0("\\B",toString(bands[i]),".TIF$"))}
paste0("dir",tnames[j]) <- paste0(tiles[j],lvec[j])
paste0("s",tnames[j]) <- stack(paste0("dir",tnames[j]))
})
stacklist <- lapply(seq(tiles), function (j){
for (i in seq(bands)){
tnames[j][i] <- list.files(tiles[j], pattern =
paste0("\\B",toString(bands[i]),".TIF$"))}
paste0("dir",tnames[j]) <- paste0(tiles[j],lvec[j])
paste0("s",tnames[j]) <- stack(paste0("dir",tnames[j]))
})
stacklist
paste0("dir",tnames[j])
stacklist <- lapply(seq(tiles), function (j){
for (i in seq(bands)){
tnames[j][i] <- list.files(tiles[j], pattern =
paste0("\\B",toString(bands[i]),".TIF$"))}
paste0("dir",tnames[j])[j] <- paste0(tiles[j],lvec[j])
paste0("s",tnames[j])[j] <- stack(paste0("dir",tnames[j]))
})
i=1
j=1
tnames[j][i]
drgb <- paste0(data, "2013_rgb/")
files <- list.files(drgb)
s1 <- stack(paste0(drgb,files[2]))
s2 <- stack(paste0(drgb,files[4]))
s3 <- stack(paste0(drgb,files[6]))
bstack <- stack(s1,s2)
raster::bstack <- stack(s1,s2)
